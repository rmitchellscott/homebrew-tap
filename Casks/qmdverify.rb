# This file was generated by GoReleaser. DO NOT EDIT.
cask "qmdverify" do
  name "qmdverify"
  desc "QMD file compatibility checker for reMarkable devices"
  homepage "https://github.com/rmitchellscott/rm-qmd-verify-cli"
  version "1.0.1"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "qmdverify"

  on_macos do
    on_intel do
      url "https://github.com/rmitchellscott/rm-qmd-verify-cli/releases/download/v#{version}/rm-qmd-verify-cli_#{version}_macOS_x86_64.tar.gz"
      sha256 "f31977f18c33a384bef3e52788308e408d6ddf2f38b7fd5150cf9afa81c0b65a"
    end
    on_arm do
      url "https://github.com/rmitchellscott/rm-qmd-verify-cli/releases/download/v#{version}/rm-qmd-verify-cli_#{version}_macOS_aarch64.tar.gz"
      sha256 "bfbdeff19f3877726b694b7cb5f15819a5e516fdf750251a0271e64ce3134dbb"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/rmitchellscott/rm-qmd-verify-cli/releases/download/v#{version}/rm-qmd-verify-cli_#{version}_linux_x86_64.tar.gz"
      sha256 "5283673a4faad49465a783eca14c3cb7f25ed7a441677ab899f921753a699305"
    end
    on_arm do
      url "https://github.com/rmitchellscott/rm-qmd-verify-cli/releases/download/v#{version}/rm-qmd-verify-cli_#{version}_linux_aarch64.tar.gz"
      sha256 "27d918b31f158845a155357e2660d83795675e479898a44848446e50472be6b4"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/qmdverify"]
    end
  end

  # No zap stanza required
end
